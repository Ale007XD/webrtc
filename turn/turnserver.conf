TURN server configuration for WebRTC E2EE
Listening ports
listening-port=3478
tls-listening-port=5349

External IP (will be replaced by entrypoint script)
external-ip=${EXTERNAL_IP}

Relay ports range for media
min-port=49152
max-port=65535

Realm
realm=${TURN_REALM}

Authentication
use-auth-secret
static-auth-secret=${TURN_AUTH_SECRET}

User quota
user-quota=12
total-quota=1200

Logging
log-file=/var/log/turn/turnserver.log
verbose

Security settings
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1

Performance
no-dtls
no-tcp-relay

Bandwidth limitation (in bytes per second)
max-bps=3000000

Session timeout
stale-nonce=600

Certificate (for TLS)
cert=/etc/coturn/turn_server_cert.pem
pkey=/etc/coturn/turn_server_pkey.pem

Disable dangerous features
no-sslv2
no-sslv3

Process management
pidfile=/var/run/turnserver.pid

Database (if needed for persistent sessions)
userdb=/var/lib/coturn/turndb
Allow TURN for specific address ranges (adjust as needed)
allowed-peer-ip=192.168.0.0-192.168.255.255
allowed-peer-ip=10.0.0.0-10.255.255.255
allowed-peer-ip=172.16.0.0-172.31.255.255
Deny localhost access for security
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=::1

Enable STUN/TURN protocols
stun-only=false
no-stun=false
